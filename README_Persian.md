# ูุงูฺฉุดูโุจูุงฺฉ ฺฉูุชุฑู ุณุฑุนุช ุฎุท ุชููุฏ (FB_LineSpeedControl)

## ูุนุฑู ูพุฑูฺู - ูุณุฎู 2.0 ุจูููโุณุงุฒ ุดุฏู

ุงู ูพุฑูฺู ุดุงูู ฺฉ ูุงูฺฉุดูโุจูุงฺฉ ูพุดุฑูุชู ู ุจูููโุณุงุฒ ุดุฏู ุจุฑุง ฺฉูุชุฑู ุฏูู ุณุฑุนุช ุฎุทูุท ุชููุฏ ุตูุนุช ุงุณุช ฺฉู ุจู ุฒุจุงู **Structured Text** (ST) ุจุฑ ุงุณุงุณ ุงุณุชุงูุฏุงุฑุฏ **IEC 61131-3** ููุดุชู ุดุฏู ุงุณุช.

### โจ ูฺฺฏโูุง ุฌุฏุฏ ุฏุฑ ูุณุฎู 2.0

- **ฺฉุงููุชโูุง ุฏูุฒุจุงูู ฺฉุงูู**: ุชูุงู ุจุฎุดโูุง ฺฉุฏ ุฏุงุฑุง ุชูุถุญุงุช ูุงุฑุณ ู ุงูฺฏูุณ
- **ูุงุจูุช ุฑุณุช ุฎุทุงูุง**: ุฏฺฉูู ุฑุณุช ุจุฑุง ุฑูุน ูููโูุง ุงุถุทุฑุงุฑ
- **ุญุฑฺฉุช ุขูุณุชู (Jog)**: ุงูฺฉุงู ุญุฑฺฉุช ุขูุณุชู ุฑู ุจู ุฌูู ู ุนูุจ
- **ุงูุชุฑูุงฺฉ ุงูู**: ุจุฑุฑุณ ุดุฑุงุท ุงูู ูุจู ุงุฒ ุฑุงูโุงูุฏุงุฒ
- **ูุญุงุณุจู ุดุชุงุจ ูุญุธูโุง**: ููุงุด ุดุชุงุจ/ฺฉุงูุด ุณุฑุนุช ุจุฑ ุญุณุจ m/sยฒ
- **ุดูุงุฑูุฏู ุฒูุงู ฺฉุงุฑฺฉุฑุฏ**: ุซุจุช ุณุงุนุงุช ฺฉุงุฑฺฉุฑุฏ ุฎุท
- **ูุญุงุณุจู ูุณุงูุช ุท ุดุฏู**: ุซุจุช ฺฉูููุชุฑูุง ุท ุดุฏู
- **ููุงุด ุฏุฑุตุฏ ุณุฑุนุช**: ููุงุด ุณุฑุนุช ุจู ุตูุฑุช ุฏุฑุตุฏ ุงุฒ ุญุฏุงฺฉุซุฑ
- **ูุดุฏุงุฑ ุณุฑุนุช ุจุงูุง**: ุขูุงุฑู ุจุฑุง ุณุฑุนุชโูุง ูุฒุฏฺฉ ุจู ุญุฏุงฺฉุซุฑ
- **ููุงุด ุญุงูุช ูุนู**: ููุงุด ูุชู ุญุงูุช ุนููุงุช
- **ูุญุงูุธุช ุจูุจูุฏ ุงูุชู**: ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน LIMIT ุจุฑุง ูุญุฏูุฏุณุงุฒ
- **ูพุดุชุจุงู ุงุฒ ุงููุงุน ูุญุตูู**: ุชูุธูุงุช ูุฎุชูู ุจุฑุง ูุญุตููุงุช ูุชูุงูุช

## ฺฉุงุฑุจุฑุฏูุง ุตูุนุช

- **ุฎุทูุท ูููุช**: ฺฉูุชุฑู ุณุฑุนุช ุฏุฑ ุชููุฏ ูุฑูโูุง ฺูุฏูุงู
- **ูุงุดูโูุง ฺุงูพ**: ุชูุธู ุณุฑุนุช ุฎุท ฺุงูพ ุจุฑ ุงุณุงุณ ููุน ูุญุตูู
- **ุฎุทูุท ุจุณุชูโุจูุฏ**: ฺฉูุชุฑู ุณุฑุนุช ููุงุฑ ููุงูู ู ุณุณุชูโูุง ุจุณุชูโุจูุฏ
- **ุฎุทูุท ุชููุฏ ูุณุงุฌ**: ุชูุธู ุณุฑุนุช ูุงุดูโุขูุงุช ุจุงููุฏฺฏ
- **ุณุณุชูโูุง ุญููโูููู**: ฺฉูุชุฑู ููุงุฑูุง ููุงูู

## ุณุงุฎุชุงุฑ ูุงูโูุง

```
โโโ FB_LineSpeedControl.st   # ูุงูฺฉุดูโุจูุงฺฉ ุงุตู (ุจูููโุณุงุฒ ุดุฏู)
โโโ Example_Usage.st         # ูุซุงู ุงุณุชูุงุฏู (ฺฏุณุชุฑุด ุงูุชู)
โโโ README_Persian.md        # ุงู ูุงู ุชูุถุญุงุช
```

## ูพุงุฑุงูุชุฑูุง ูุฑูุฏ ุฌุฏุฏ

### ูพุงุฑุงูุชุฑูุง ฺฉูุชุฑู ุงุตู

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช | ููุฏุงุฑ ูพุดโูุฑุถ |
|---------|-----|---------|---------------|
| `enable` | BOOL | ูุนุงูโุณุงุฒ ูุงูฺฉุดูโุจูุงฺฉ | - |
| `reset` | BOOL | **ุฌุฏุฏ** - ุฑุณุช ุฎุทุงูุง ู ูููโูุง | - |
| `mode` | INT | ุญุงูุช ฺฉุงุฑ (0=Manual, 1=HMI, 2=Auto) | - |

### ูพุงุฑุงูุชุฑูุง ฺฉูุชุฑู ุฏุณุช

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช | ููุฏุงุฑ ูพุดโูุฑุถ |
|---------|-----|---------|---------------|
| `speedUp` | BOOL | ุฏฺฉูู ุงูุฒุงุด ุณุฑุนุช ุฏุณุช | - |
| `speedDown` | BOOL | ุฏฺฉูู ฺฉุงูุด ุณุฑุนุช ุฏุณุช | - |
| `jogForward` | BOOL | **ุฌุฏุฏ** - ุญุฑฺฉุช ุขูุณุชู ุฑู ุจู ุฌูู | - |
| `jogReverse` | BOOL | **ุฌุฏุฏ** - ุญุฑฺฉุช ุขูุณุชู ุฑู ุจู ุนูุจ | - |

### ูพุงุฑุงูุชุฑูุง ุงูู

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช | ููุฏุงุฑ ูพุดโูุฑุถ |
|---------|-----|---------|---------------|
| `stopEmergency` | BOOL | ุชููู ุงุถุทุฑุงุฑ | - |
| `safetyInterlockOK` | BOOL | **ุฌุฏุฏ** - ุงูุชุฑูุงฺฉ ุงูู | TRUE |

### ูพุงุฑุงูุชุฑูุง ูุญุฏูุฏุช ู ุชูุธูุงุช

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช | ููุฏุงุฑ ูพุดโูุฑุถ |
|---------|-----|---------|---------------|
| `jogSpeed` | REAL | **ุฌุฏุฏ** - ุณุฑุนุช ุญุฑฺฉุช ุขูุณุชู (m/min) | 5.0 |
| `rampDownTimeNormal_s` | REAL | **ุฌุฏุฏ** - ุฒูุงู ฺฉุงูุด ุณุฑุนุช ุนุงุฏ (s) | 5.0 |
| `speedTolerance` | REAL | **ุฌุฏุฏ** - ุชูุฑุงูุณ ุณุฑุนุช (m/min) | 0.5 |
| `warningThreshold` | REAL | **ุฌุฏุฏ** - ุขุณุชุงูู ูุดุฏุงุฑ ุณุฑุนุช (%) | 90.0 |

## ูพุงุฑุงูุชุฑูุง ุฎุฑูุฌ ุฌุฏุฏ

### ุฎุฑูุฌโูุง ุงุตู

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช |
|---------|-----|---------|
| `speedOut_mpm` | REAL | ุณุฑุนุช ุฎุฑูุฌ (m/min) |
| `speedOut_percent` | REAL | **ุฌุฏุฏ** - ุณุฑุนุช ุฎุฑูุฌ ุฏุฑุตุฏ (%) |
| `acceleration_mps2` | REAL | **ุฌุฏุฏ** - ุดุชุงุจ ูุญุธูโุง (m/sยฒ) |

### ูุถุนุชโูุง

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช |
|---------|-----|---------|
| `isRunning` | BOOL | **ุฌุฏุฏ** - ุฏุฑ ุญุงู ฺฉุงุฑ |
| `atSetpoint` | BOOL | **ุฌุฏุฏ** - ุฑุณุฏู ุจู ููุทู ุชูุธู |
| `emergencyLatched` | BOOL | ููู ุชููู ุงุถุทุฑุงุฑ |

### ูุดุฏุงุฑูุง ู ุงุทูุงุนุงุช ุชุดุฎุต

| ูพุงุฑุงูุชุฑ | ููุน | ุชูุถุญุงุช |
|---------|-----|---------|
| `speedWarning` | BOOL | **ุฌุฏุฏ** - ูุดุฏุงุฑ ุณุฑุนุช ุจุงูุง |
| `rampActive` | BOOL | **ุฌุฏุฏ** - ุฑููพ ูุนุงู ุงุณุช |
| `currentMode` | STRING[20] | **ุฌุฏุฏ** - ููุงุด ุญุงูุช ูุนู |
| `runTime_hours` | REAL | **ุฌุฏุฏ** - ุฒูุงู ฺฉุงุฑฺฉุฑุฏ (ุณุงุนุช) |
| `totalDistance_km` | REAL | **ุฌุฏุฏ** - ูุณุงูุช ฺฉู ุท ุดุฏู (km) |

## ุงูฺฏูุฑุชู ุจูุจูุฏ ุงูุชู

### 1. ููุฏุงุฑุฏู ุงููู
- ุชูุธู ููุงุฏุฑ ุงููู ุฏุฑ ุงููู ุงุณฺฉู
- ุขูุงุฏูโุณุงุฒ ุดูุงุฑูุฏูโูุง ู ุชุงูุฑูุง

### 2. ูุฏุฑุช ุฑุณุช
- ุงูฺฉุงู ุฑุณุช ููู ุชููู ุงุถุทุฑุงุฑ
- ูพุงฺฉ ฺฉุฑุฏู ุฎุทุงูุง ุจุง ุฏฺฉูู ุฑุณุช

### 3. ุจุฑุฑุณ ุงูู ูพุดุฑูุชู
- ุจุฑุฑุณ enable ู ุงูุชุฑูุงฺฉ ุงูู
- ฺฉุงูุด ุชุฏุฑุฌ ุณุฑุนุช ุฏุฑ ุตูุฑุช ุบุฑูุนุงู ุดุฏู

### 4. ูุฏุฑุช ุชููู ุงุถุทุฑุงุฑ ุจูุจูุฏ ุงูุชู
- ุฐุฎุฑู ุณุฑุนุช ูุจู ุงุฒ ุชููู
- ฺฉุงูุด ุณุฑุน ุจุง ุฑููพ ุงุถุทุฑุงุฑ
- ููู ุดุฏู ูพุณ ุงุฒ ุชููู ฺฉุงูู

### 5. ูุงุจูุช ุญุฑฺฉุช ุขูุณุชู (Jog)
- ุญุฑฺฉุช ุขูุณุชู ุฑู ุจู ุฌูู ุจุง `jogForward`
- ุญุฑฺฉุช ุขูุณุชู ุฑู ุจู ุนูุจ ุจุง `jogReverse`
- ูุฏุฑุช ุชุฏุงุฎู ุฏู ุฏฺฉูู

### 6. ุงูุชุฎุงุจ ุญุงูุช ููุดููุฏ
- ุชุดุฎุต ุชุบุฑ ุญุงูุช
- ุชุบุฑ ุฎูุฏฺฉุงุฑ ุจู ุญุงูุช ุฏุณุช ุจุง ูุดุฑุฏู ุฏฺฉููโูุง
- ุงุณุชูุงุฏู ุงุฒ CASE ุจุฑุง ูุฏุฑุช ุจูุชุฑ

### 7. ูุญุงุณุจุงุช ุฑููพ ูพุดุฑูุชู
- ุฑููพโูุง ุฌุฏุงฺฏุงูู ุจุฑุง ุงูุฒุงุด ู ฺฉุงูุด ุณุฑุนุช
- ุงุณุชูุงุฏู ุงุฒ ุชูุฑุงูุณ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ููุณุงู
- ูุญุงุณุจู ูุฑุฎ ูุงูุน ุฑููพ

### 8. ูุญุงุณุจุงุช ุฎุฑูุฌ ุฌุงูุน
- ูุญุงุณุจู ุฏุฑุตุฏ ุณุฑุนุช
- ูุญุงุณุจู ุดุชุงุจ ูุญุธูโุง
- ุชูุธู ููฺฏโูุง ูุถุนุช
- ูุญุงุณุจู ุฒูุงู ฺฉุงุฑฺฉุฑุฏ ู ูุณุงูุช

## ูุซุงู ุงุณุชูุงุฏู ูพุดุฑูุชู

### ุชูุธู ุจุฑ ุงุณุงุณ ููุน ูุญุตูู

```pascal
CASE productType OF
    1:  // ูุญุตูู ููุน 1 - ุณุฑุนุช ูพุงู
        maxLineSpeed := 60.0;
        normalRampUp := 5.0;
        
    2:  // ูุญุตูู ููุน 2 - ุณุฑุนุช ูุชูุณุท
        maxLineSpeed := 100.0;
        normalRampUp := 8.0;
        
    3:  // ูุญุตูู ููุน 3 - ุณุฑุนุช ุจุงูุง
        maxLineSpeed := 150.0;
        normalRampUp := 12.0;
END_CASE;
```

### ูุญุงุณุจู ุงูุชุฑูุงฺฉ ุงูู

```pascal
safetyInterlock := safetyGatesClosed AND motorTempOK AND NOT maintenanceMode;
```

### ููุงุด ุงุทูุงุนุงุช ุฏุฑ HMI

```
ุณุฑุนุช ูุนู: 75.5 m/min (62.9%)
ุดุชุงุจ: 1.2 m/sยฒ
ุญุงูุช: AUTOMATIC
ูุถุนุช: ุฏุฑ ุญุงู ฺฉุงุฑ
ุฒูุงู ฺฉุงุฑฺฉุฑุฏ: 1250.5 ุณุงุนุช
ูุณุงูุช: 5420.8 km
```

## ูฺฉุงุช ุจูููโุณุงุฒ

### ๐ ุจูุจูุฏ ุนููฺฉุฑุฏ
1. ุงุณุชูุงุฏู ุงุฒ LIMIT ุจู ุฌุง IF ูุง ุชู ุฏุฑ ุชู
2. ูุญุงุณุจุงุช ููุท ุฏุฑ ุตูุฑุช ูุงุฒ
3. ุงุณุชูุงุฏู ุงุฒ ุซุงุจุชโูุง ุจุฑุง ููุงุฏุฑ ุชฺฉุฑุงุฑ

### ๐ง ูุงุจูุช ูฺฏูุฏุงุฑ
1. ฺฉุงููุชโูุง ุฏูุฒุจุงูู ฺฉุงูู
2. ุณุงุฎุชุงุฑ ููุทู ู ูุงุถุญ
3. ูุงูโฺฏุฐุงุฑ ุงุณุชุงูุฏุงุฑุฏ ูุชุบุฑูุง

### ๐ก๏ธ ุงูู
1. ุจุฑุฑุณโูุง ฺูุฏฺฏุงูู ุงูู
2. ูุฏุฑุช ุญุงูุชโูุง ุบุฑููุชุธุฑู
3. ูุญุงูุธุช ุงุฒ ุชูุณู ุจุฑ ุตูุฑ

## ุชุณุช ู ุงุดฺฉุงูโุฒุฏุง

### ุณูุงุฑููุง ุชุณุช
1. **ุชุณุช ุญุฑฺฉุช ุขูุณุชู**: ุจุฑุฑุณ ุนููฺฉุฑุฏ ุฏฺฉููโูุง Jog
2. **ุชุณุช ุฑุณุช**: ุจุฑุฑุณ ุฑูุน ููู ุงุถุทุฑุงุฑ
3. **ุชุณุช ุชุบุฑ ูุญุตูู**: ุจุฑุฑุณ ุชูุธูุงุช ูุฎุชูู
4. **ุชุณุช ุงูุชุฑูุงฺฉ**: ุจุฑุฑุณ ุนููฺฉุฑุฏ ุงูู

### ุงุจุฒุงุฑูุง ุชุดุฎุต
- ูุดุงูุฏู `currentMode` ุจุฑุง ูุถุนุช ูุนู
- ุจุฑุฑุณ `acceleration_mps2` ุจุฑุง ูุฑู ุญุฑฺฉุช
- ฺฉูุชุฑู `runTime_hours` ุจุฑุง ูฺฏูุฏุงุฑ ูพุดฺฏุฑุงูู

## ุณุงุฒฺฏุงุฑ

ุงู ฺฉุฏ ุจุง ุชูุงู PLCูุง ุงุณุชุงูุฏุงุฑุฏ IEC 61131-3 ุณุงุฒฺฏุงุฑ ุงุณุช:
- โ Siemens (TIA Portal)
- โ Allen-Bradley (Studio 5000)
- โ Schneider (EcoStruxure)
- โ ABB (Automation Builder)
- โ Beckhoff (TwinCAT)
- โ CODESYS based PLCs

## ูุณุฎูโูุง ุขูุฏู

### ุจุฑูุงููโุฑุฒ ุดุฏู ุจุฑุง ูุณุฎู 3.0
- [ ] ูพุดุชุจุงู ุงุฒ ฺูุฏ ููุชูุฑ ููุฒูุงู
- [ ] ุงูฺฏูุฑุชู ุงุฏฺฏุฑ ุจุฑุง ุจูููโุณุงุฒ ุฑููพ
- [ ] ุงุฑุชุจุงุท ุจุง ุณุณุชู MES
- [ ] ุฐุฎุฑู ูพุฑููุงูโูุง ุณุฑุนุช
- [ ] ฺฏุฒุงุฑุดโฺฏุฑ ุฎูุฏฺฉุงุฑ

## ูุฌูุฒ ู ุญููู ูุดุฑ

ุงู ฺฉุฏ ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ูพุฑูฺูโูุง ุตูุนุช ุขุฒุงุฏ ุงุณุช.  
ูุณุฎู: 2.0 (ุจูููโุณุงุฒ ุดุฏู)  
ุชุงุฑุฎ: ฑดฐณ/ฑฐ/ฑธ (2025/01/07)

---

**ุชูุณุนูโุฏููุฏู**: AI Assistant  
**ุฒุจุงู ุจุฑูุงููโููุณ**: IEC 61131-3 Structured Text  
**ููุงุณุจ ุจุฑุง**: ุชูุงู PLCูุง ุตูุนุช ุงุณุชุงูุฏุงุฑุฏ