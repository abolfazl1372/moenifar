# خلاصه پروژه کنترل سرعت خط تولید 🏭

## 📋 مشخصات پروژه

**نام پروژه**: سیستم کنترل سرعت خط تولید صنعتی  
**نسخه**: 2.0 (بهینه‌سازی شده)  
**تاریخ**: 1403/10/18 (2025/01/07)  
**زبان برنامه‌نویسی**: IEC 61131-3 Structured Text + Python (شبیه‌ساز)  

## 📁 فایل‌های پروژه

### 1. کد اصلی PLC
- **`FB_LineSpeedControl.st`** (355 خط)
  - فانکشن‌بلاک اصلی کنترل سرعت
  - کامنت‌گذاری دوزبانه کامل (فارسی/انگلیسی)
  - منطق کنترل پیشرفته با رمپ نرم

### 2. نمونه استفاده
- **`Example_Usage.st`** (238 خط)
  - مثال جامع استفاده از فانکشن‌بلاک
  - پشتیبانی از 5 نوع محصول مختلف
  - محاسبات کارایی و نرخ تولید

### 3. شبیه‌سازها
- **`line_speed_simulator.py`** (560 خط)
  - شبیه‌ساز کامل با نمودار matplotlib
  - رابط گرافیکی پیشرفته
  
- **`simple_line_speed_simulator.py`** (490 خط)
  - شبیه‌ساز ساده بدون وابستگی خارجی
  - فقط از tkinter استفاده می‌کند

### 4. مستندات
- **`README_Persian.md`** (237 خط)
  - راهنمای کامل به زبان فارسی
  - جداول پارامترها و توضیحات
  
- **`simulator_README.md`** (115 خط)
  - راهنمای استفاده از شبیه‌ساز
  - نحوه تست ویژگی‌های مختلف

### 5. فایل‌های جانبی
- **`requirements.txt`** - نیازمندی‌های Python
- **`PROJECT_SUMMARY.md`** - این فایل

## 🚀 ویژگی‌های کلیدی نسخه 2.0

### ✅ ویژگی‌های جدید
1. **کامنت‌گذاری دوزبانه** - تمام کدها دارای توضیحات فارسی و انگلیسی
2. **دکمه ریست** - امکان رفع قفل توقف اضطراری
3. **حرکت آهسته (Jog)** - حرکت کنترل شده با سرعت پایین
4. **اینترلاک ایمنی** - بررسی شرایط ایمنی قبل از راه‌اندازی
5. **محاسبه شتاب** - نمایش شتاب لحظه‌ای (m/s²)
6. **شمارنده زمان کارکرد** - ثبت ساعات کاری سیستم
7. **محاسبه مسافت** - ثبت کیلومترهای طی شده
8. **نمایش درصد سرعت** - سرعت به صورت درصدی از حداکثر
9. **هشدار سرعت بالا** - آلارم برای سرعت‌های بالا
10. **نمایش حالت عملیاتی** - نمایش متنی وضعیت سیستم

### 🔧 بهینه‌سازی‌های انجام شده
- استفاده از `CASE` به جای `IF-ELSIF` چندگانه
- استفاده از تابع `LIMIT` برای محدودسازی مقادیر
- تعریف ثابت‌ها با `VAR CONSTANT`
- ساختار منطقی و مدولار کد
- مدیریت بهتر خطاها و استثناها

## 💻 نحوه استفاده

### برای PLC:
1. فایل `FB_LineSpeedControl.st` را در محیط برنامه‌نویسی PLC وارد کنید
2. پارامترهای مورد نظر را مطابق `Example_Usage.st` تنظیم کنید
3. کامپایل کرده و به PLC دانلود کنید

### برای شبیه‌سازی:
```bash
# اجرای شبیه‌ساز ساده (بدون نیاز به نصب کتابخانه)
python3 simple_line_speed_simulator.py

# یا برای نسخه کامل با نمودار
pip install matplotlib numpy
python3 line_speed_simulator.py
```

## 🎯 کاربردهای صنعتی

1. **خطوط لمینیت** - کنترل دقیق سرعت برای کیفیت محصول
2. **ماشین‌های چاپ** - تنظیم سرعت بر اساس نوع کاغذ
3. **خطوط بسته‌بندی** - همزمان‌سازی سرعت نوار نقاله
4. **تولید نساجی** - کنترل سرعت ماشین‌های بافندگی
5. **سیستم‌های انتقال** - مدیریت نوارهای نقاله

## 🔍 نکات مهم

### ایمنی:
- سیستم توقف اضطراری باید مستقل از PLC نیز عمل کند
- زمان‌های رمپ باید متناسب با اینرسی سیستم تنظیم شوند
- حداکثر سرعت نباید از محدودیت‌های مکانیکی تجاوز کند

### عملکرد:
- زمان اسکن PLC معمولاً 10-50ms است
- دقت کنترل به زمان اسکن و دقت محاسبات بستگی دارد
- برای سیستم‌های حساس، از PLC‌های Safety استفاده کنید

## 📊 مقایسه با سیستم‌های مشابه

| ویژگی | این سیستم | سیستم‌های معمولی |
|-------|-----------|------------------|
| حالت‌های کنترل | 3 حالت + Jog | معمولاً 2 حالت |
| مدیریت رمپ | رمپ‌های جداگانه | رمپ یکسان |
| ایمنی | چندلایه | پایه |
| تشخیص خطا | کامل | محدود |
| قابلیت توسعه | بالا | متوسط |

## 🛠️ توسعه‌های آینده

- [ ] پشتیبانی از چند موتور همزمان
- [ ] الگوریتم یادگیری برای بهینه‌سازی رمپ
- [ ] ارتباط با سیستم MES/ERP
- [ ] ذخیره پروفایل‌های سرعت
- [ ] گزارش‌گیری خودکار عملکرد

## 👨‍💻 تیم توسعه

**طراحی و پیاده‌سازی**: AI Assistant  
**بهینه‌سازی**: درخواست کاربر  
**تست و مستندسازی**: مشترک  

---

*این پروژه برای استفاده در محیط‌های صنعتی طراحی شده و با تمام PLC‌های استاندارد IEC 61131-3 سازگار است.*